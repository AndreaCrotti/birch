#!/usr/bin/env lumo
;; -*- mode: clojurescript -*-
;; vim: ft=clojure:
(require '[lumo.core :refer [*command-line-args*]]
         '[clojure.string :as str])

(def node-fs (js/require "fs"))
(def node-path (js/require "path"))

(def read-dir (.-readdirSync node-fs))
(def stat (.-statSync node-fs))
(def path-join (.-join node-path))

(defn directory? [f]
  (.isDirectory (stat f)))

(def I-branch "│   ")
(def T-branch "├── ")
(def L-branch "└── ")
(def SPACER   "    ")

(defn tree-entry [path name]
  ,,,)

(defn render-tree [entry]
  ,,,)

(defn birch [dir]
  (->> (tree-entry "" dir)
       render-tree
       (str/join "\n")
       print))

(birch (first *command-line-args*))
